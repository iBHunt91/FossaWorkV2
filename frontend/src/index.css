@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 94.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Custom component styles for FossaWork */
@layer components {
  /* App Layout */
  .app {
    @apply flex min-h-screen;
  }

  .navigation {
    @apply w-64 bg-slate-800 text-white flex flex-col fixed h-screen overflow-y-auto;
  }

  .main-content {
    @apply flex-1 ml-64 p-8 overflow-y-auto;
  }

  /* Navigation Styles */
  .nav-header {
    @apply p-6 border-b border-slate-700;
  }

  .nav-logo {
    @apply flex items-center gap-3;
  }

  .logo-icon {
    @apply w-8 h-8 text-primary;
  }

  .logo-text {
    @apply text-xl font-bold;
  }

  .nav-menu {
    @apply flex-1 list-none py-4;
  }

  .nav-item {
    @apply flex items-center gap-3 px-6 py-3 text-slate-300 no-underline transition-all duration-200;
  }

  .nav-item:hover {
    @apply bg-slate-700 text-white;
  }

  .nav-item.active {
    @apply bg-primary text-primary-foreground;
  }

  .nav-icon {
    @apply w-5 h-5;
  }

  .nav-footer {
    @apply px-6 py-4 border-t border-slate-700 text-slate-400 text-sm;
  }

  /* Legacy card styles for backwards compatibility */
  .card {
    @apply bg-card text-card-foreground rounded-lg border border-border p-6 shadow-sm;
  }

  .card.clickable {
    @apply cursor-pointer transition-all duration-200;
  }

  .card.clickable:hover {
    @apply shadow-md -translate-y-0.5;
  }

  /* Button styles for backwards compatibility */
  .action-button {
    @apply inline-flex items-center gap-2 px-6 py-3 border-0 rounded-lg font-semibold cursor-pointer transition-all duration-200 no-underline;
  }

  .action-button.primary {
    @apply bg-primary text-primary-foreground;
  }

  .action-button.primary:hover {
    @apply bg-primary/90;
  }

  .action-button.secondary {
    @apply bg-secondary text-secondary-foreground;
  }

  .action-button.secondary:hover {
    @apply bg-secondary/80;
  }

  .action-button.small {
    @apply px-4 py-2 text-sm;
  }

  .action-button:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Form styles */
  .form-group {
    @apply mb-6;
  }

  .form-group label {
    @apply block mb-2 font-semibold text-foreground;
  }

  .form-input, .form-select {
    @apply w-full px-3 py-3 border border-input rounded-lg bg-background text-foreground;
  }

  .form-input:focus, .form-select:focus {
    @apply outline-none ring-2 ring-ring ring-offset-2;
  }

  .form-input:disabled {
    @apply bg-muted text-muted-foreground;
  }

  /* Status badges */
  .status-badge {
    @apply px-3 py-1 rounded-full text-xs font-semibold uppercase;
  }

  .status-badge.pending {
    @apply bg-amber-100 text-amber-800;
  }

  .status-badge.in_progress {
    @apply bg-blue-100 text-blue-800;
  }

  .status-badge.completed {
    @apply bg-green-100 text-green-800;
  }

  .status-badge.failed {
    @apply bg-red-100 text-red-800;
  }

  /* Loading Spinner */
  .loading-spinner {
    @apply border-4 border-border border-t-primary rounded-full animate-spin;
  }

  .loading-spinner.small {
    @apply w-6 h-6;
  }

  .loading-spinner.medium {
    @apply w-10 h-10;
  }

  .loading-spinner.large {
    @apply w-16 h-16;
  }

  .loading-spinner-container {
    @apply flex flex-col items-center justify-center p-12 text-center;
  }

  .loading-message {
    @apply mt-4 text-muted-foreground;
  }

  /* Empty States */
  .empty-state {
    @apply text-center p-12;
  }

  .empty-icon {
    @apply w-12 h-12 text-muted-foreground mx-auto mb-4;
  }

  .empty-state h3 {
    @apply mb-2 text-foreground;
  }

  .empty-state p {
    @apply text-muted-foreground mb-6;
  }

  /* Error States */
  .error-state {
    @apply text-center p-12;
  }

  .error-state h2 {
    @apply text-destructive mb-4;
  }

  .error-state p {
    @apply text-muted-foreground mb-8;
  }
}

/* Page-specific utility classes */
@layer utilities {
  .page-header {
    @apply flex justify-between items-start mb-8;
  }

  .header-content h1 {
    @apply text-3xl font-bold mb-2;
  }

  .header-content p {
    @apply text-muted-foreground text-lg;
  }

  .header-actions {
    @apply flex gap-4;
  }

  /* Dashboard Styles */
  .dashboard-header {
    @apply text-center mb-12;
  }

  .dashboard-header h1 {
    @apply text-4xl font-extrabold mb-2 text-foreground;
  }

  .dashboard-header p {
    @apply text-muted-foreground text-xl;
  }

  .system-status {
    @apply mb-8;
  }

  .status-indicator {
    @apply flex items-center gap-4;
  }

  .status-dot {
    @apply w-4 h-4 rounded-full;
  }

  .status-dot.healthy {
    @apply bg-green-500 shadow-lg shadow-green-500/20;
  }

  .status-dot.error {
    @apply bg-red-500 shadow-lg shadow-red-500/20;
  }

  .metrics-grid {
    @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8;
  }

  .metric {
    @apply flex items-center gap-4;
  }

  .metric-icon {
    @apply w-10 h-10 text-primary;
  }

  .metric-icon.pending {
    @apply text-amber-500;
  }

  .metric-icon.in-progress {
    @apply text-primary;
  }

  .metric-icon.completed {
    @apply text-green-500;
  }

  .metric h3 {
    @apply text-3xl font-bold mb-1;
  }

  .metric p {
    @apply text-muted-foreground text-sm;
  }

  /* Work Orders */
  .work-orders-grid {
    @apply grid grid-cols-1 xl:grid-cols-2 gap-6;
  }

  .work-order-card {
    @apply relative;
  }

  .work-order-header {
    @apply flex justify-between items-start mb-4;
  }

  .work-order-title h3 {
    @apply text-xl font-semibold mb-1;
  }

  .external-id {
    @apply text-muted-foreground text-sm;
  }

  .work-order-details {
    @apply mb-6;
  }

  .address {
    @apply text-muted-foreground mb-2;
  }

  .dispensers-summary h4 {
    @apply text-base font-semibold mb-3;
  }

  .dispensers-grid {
    @apply grid gap-3;
  }

  .dispenser-item {
    @apply grid grid-cols-[auto_1fr_auto] items-center gap-3 p-3 bg-muted rounded-lg;
  }

  .dispenser-number {
    @apply font-semibold text-primary;
  }

  .dispenser-type {
    @apply text-muted-foreground text-sm;
  }

  .dispenser-status {
    @apply px-2 py-1 rounded-md text-xs font-medium;
  }

  .dispenser-status.pending {
    @apply bg-amber-100 text-amber-800;
  }

  .dispenser-status.ready_for_automation {
    @apply bg-blue-100 text-blue-800;
  }

  .progress-bar {
    @apply col-span-3 h-1 bg-border rounded-full overflow-hidden;
  }

  .progress-fill {
    @apply h-full bg-primary transition-all duration-300 ease-out;
  }

  .work-order-actions {
    @apply flex gap-3 mt-6 pt-6 border-t border-border;
  }

  /* Settings */
  .settings-container {
    @apply grid grid-cols-1 lg:grid-cols-[250px_1fr] gap-8;
  }

  .settings-tabs {
    @apply flex flex-col gap-2;
  }

  .tab-button {
    @apply flex items-center gap-3 px-4 py-3 border-0 bg-background text-left rounded-lg cursor-pointer transition-all duration-200 border border-border;
  }

  .tab-button:hover {
    @apply bg-accent;
  }

  .tab-button.active {
    @apply bg-primary text-primary-foreground border-primary;
  }

  .tab-icon {
    @apply w-5 h-5;
  }

  .settings-section {
    @apply mb-8 pb-8 border-b border-border last:border-b-0;
  }

  .settings-section h3 {
    @apply mb-4 text-foreground;
  }

  .checkbox-group {
    @apply flex flex-col gap-3;
  }

  .checkbox-label {
    @apply flex items-center gap-2 cursor-pointer;
  }

  /* Filters */
  .filters-section {
    @apply mb-8;
  }

  .filters-container {
    @apply flex gap-4 items-center;
  }

  .search-box {
    @apply relative flex-1 max-w-md;
  }

  .search-icon {
    @apply absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground;
  }

  .search-input {
    @apply w-full py-3 pl-10 pr-3 border border-input rounded-lg bg-background;
  }

  .filter-group {
    @apply flex items-center gap-2;
  }

  .filter-icon {
    @apply w-4 h-4 text-muted-foreground;
  }

  .filter-select {
    @apply px-3 py-3 border border-input rounded-lg bg-background;
  }

  .icon {
    @apply w-4 h-4;
  }
}

/* Responsive Design */
@media (max-width: 768px) {
  .navigation {
    @apply w-full h-auto relative;
  }

  .main-content {
    @apply ml-0 p-4;
  }

  .page-header {
    @apply flex-col gap-4;
  }

  .metrics-grid {
    @apply grid-cols-1;
  }

  .work-orders-grid {
    @apply grid-cols-1;
  }

  .settings-container {
    @apply grid-cols-1;
  }

  .settings-tabs {
    @apply flex-row overflow-x-auto;
  }

  .filters-container {
    @apply flex-col items-stretch;
  }
}